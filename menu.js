(()=>{let ce=t=>document.createElement(t),cd=(i,c,t)=>{let d=ce("div");if (i) d.id=i;if (c) d.className=c;if (t) d.textContent=t;return d;},ap=(p,c)=>p.appendChild(c),sa=(e,k,v)=>e.setAttribute(k,v),ael=(e,t,f)=>e.addEventListener(t,f),tc=(e,c)=>e.classList.toggle(c);var status,coord;let mb=(d,a)=>{sa(d,"role","button");var active=false;ael(d,"pointerdown",e=>{active=true;e.stopPropagation();});ael(d,"pointerup",e=>{if (active) a();active=false;e.stopPropagation();});let disable=e=>{if (active) active=false;e.stopPropagation();};ael(d,"pointermove",disable);ael(d,"pointercancel",disable);ael(d,"pointerout",disable);ael(d,"pointerleave",disable);return d;};let mv=cd("menuView");let ms=ap(mv,cd("menuShadow"));let m=ap(ap(mv,cd("menuContainer")),cd("menu"));let close=()=>status.menuShown=false;mb(ms,close);mb(ap(m,cd(null,null,"CS")),()=>{status.colorSchemePreferred=false;status.dark=!status.dark;});let f=(n,l,t)=>{let id=n.toLowerCase();var f;if (t<2) f=()=>{coord[id]=!coord[id];coord.calc();tc(b,"on");};else f=()=>{coord[id].on=!coord[id].on;coord.calc();tc(b,"on");};let b=mb(ap(m,cd(null,id+(t==0?" on":""),l)),f);sa(b,"title",n+" coordinate");return b;};f("Cartesian","xy",0);f("Polar","rθ",1);f("Parabolic","PB",2);f("Elliptic","EP",2);f("Bipolar","BP",2);mb(ap(m,cd(null,null,"×")),close);let b=mb(cd("menuButton"),()=>status.menuShown=!status.menuShown);window.res("menu",(s,c)=>{status=s,coord=c;return {view:mv,button:b};});})();